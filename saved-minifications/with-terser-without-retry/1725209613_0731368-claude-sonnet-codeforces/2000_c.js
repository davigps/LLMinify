function solve(){var n=parseInt(readline(),10),a=readline().split(" ").map(Number),mp={};for(var i=0;i<n;i++){var x=a[i]in mp?mp[a[i]]:-1;mp[a[i]]=i;a[i]=x}var m=parseInt(readline(),10);for(var j=0;j<m;j++){var s=readline();if(s.length!==n){print("NO");continue}var f=Array(26).fill(-1),b=Array(n),fl=1;for(var k=0;k<n;k++){b[k]=f[s.charCodeAt(k)-97];f[s.charCodeAt(k)-97]=k}print(a.join("")===b.join("")?"YES":"NO")}}function main(){var t=parseInt(readline(),10);while(t--)solve()}main();
