(function(){var $=_=>document.getElementById(_),init=(e,t,n,o)=>{var l=new bkcore.hexgl.HexGL({document:document,width:innerWidth,height:innerHeight,container:$("main"),overlay:$("overlay"),gameover:$("step-5"),quality:t,difficulty:0,hud:1===n,controlType:e,godmode:o,track:"Cityscape"});window.hexGL=l;var r=$("progressbar");return l.load({onLoad:()=>{console.log("LOADED."),l.init(),$("step-3").style.display="none",$("step-4").style.display="block",l.start()},onError:e=>console.error("Error loading "+e+"."),onProgress:(e,t,n)=>(console.log("LOADED "+t+" : "+n+" ( "+e.loaded+" / "+e.total+" )."),r.style.width=e.loaded/e.total*100+"%")})},u=bkcore.Utils.getURLParameter,defaultControls=bkcore.Utils.isTouchDevice()?1:0,s=[["controlType",["KEYBOARD","TOUCH","LEAP MOTION CONTROLLER","GAMEPAD"],defaultControls,defaultControls,"Controls: "],["quality",["LOW","MID","HIGH","VERY HIGH"],3,3,"Quality: "],["hud",["OFF","ON"],1,1,"HUD: "],["godmode",["OFF","ON"],0,1,"Godmode: "]];s.forEach((e=>{var t,n;e[3]=null!=(n=u(e[0]))?n:e[2],t=$("s-"+e[0]),(n=()=>t.innerHTML=e[4]+e[1][e[3]])(),t.onclick=()=>n(e[3]=(e[3]+1)%e[1].length)})),$("step-2").onclick=()=>($("step-2").style.display="none",$("step-3").style.display="block",init(s[0][3],s[1][3],s[2][3],s[3][3])),$("step-5").onclick=()=>location.reload(),$("s-credits").onclick=()=>($("step-1").style.display="none",$("credits").style.display="block"),$("credits").onclick=()=>($("step-1").style.display="block",$("credits").style.display="none");var hasWebGL=()=>{var e,t=null;try{t=(e=document.createElement("canvas")).getContext("webgl")}catch(e){}if(null==t)try{t=e.getContext("experimental-webgl")}catch(e){}return null!=t};if(hasWebGL())$("start").onclick=()=>($("step-1").style.display="none",$("step-2").style.display="block",$("step-2").style.backgroundImage="url(css/help-"+s[0][3]+".png)");else{var getWebGL=$("start");getWebGL.innerHTML="WebGL is not supported!",getWebGL.onclick=()=>location.href="http://get.webgl.org/"}})();
